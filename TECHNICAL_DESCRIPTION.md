# Техническое описание репозитория Visualizer Pro v2

Данный документ содержит подробный технический обзор проекта Visualizer Pro v2, предназначенный для разработчиков и дизайнеров интерфейсов.

## 1. Обзор проекта
Visualizer Pro v2 — это высокопроизводительное веб-приложение для визуализации аудио в реальном времени. Оно позволяет пользователям кастомизировать визуальный ряд, загружать собственный контент (логотипы, фон) и управлять сложными эффектами через интерактивную панель управления.

## 2. Технологический стек
*   **Frontend**: HTML5, JavaScript (ES6+).
*   **Стилизация**: Tailwind CSS (через CDN), Font Awesome 6, Google Fonts (Inter, Orbitron).
*   **Графика**: Canvas 2D API.
*   **Аудио**: Web Audio API (использование `AnalyserNode`).

## 3. Архитектура приложения
Приложение построено на основе класса `VisualizerApp`, который инкапсулирует:
*   **Управление состоянием**: Объект `this.config`, хранящий все настройки визуализации.
*   **Аудио-движок**: Инициализация микрофона, захват потока и анализ частот (Bass, Mid, Treble).
*   **Цикл рендеринга**: Метод `animate()`, использующий `requestAnimationFrame` для отрисовки 60 FPS.
*   **Система привязки данных (Binding)**: Метод `attachListeners()`, который связывает DOM-элементы управления с объектом конфигурации.

## 4. Функциональные модули

### 4.1. Аудио-анализ
*   **Частотный анализ**: Используется FFT (Fast Fourier Transform) размером 2048.
*   **Реактивность**: Выделяются уровни баса для триггера анимаций (Pulse, Shake, Glitch).
*   **Усиление (Gain)**: Настраиваемая чувствительность входного сигнала.

### 4.2. Рендеринг и слои
Визуализация состоит из слоев, порядок которых можно изменять динамически:
1.  **Background**: Поддержка изображений и видео. Система плейлистов с настраиваемой длительностью слайда.
2.  **Visuals**: Основные пресеты (Neon City, Hyper Tunnel, Starfield, Matrix Rain и др.).
3.  **Logo**: Центральный элемент с собственным эквалайзером (Circular, Square, Hexagon) и эффектами свечения (Bloom).
4.  **Text Overlay**: Текстовые блоки с анимациями (Floating, Ping Pong, Pulse).
5.  **Lasers/Strobe**: Световые эффекты, синхронизированные с басом.
6.  **Glitch FX**: Пост-обработка (RGB Split, Pixel Slicing, Digital Noise).

### 4.3. Интерфейс (Console v2)
*   **Панель управления**: Выдвижной сайдбар (справа), вызываемый клавишей `Q`.
*   **Табы**: Разделение настроек по категориям (Scene, Content, Glitch, Lights, Layers).
*   **Кастомные элементы**: Стилизованные ползунки (Range), чекбоксы и кнопки загрузки файлов.
*   **Дизайн-система**: Темная тема (Dark Mode), акцентный цвет — Blue-500 (#3b82f6), шрифты Orbitron (для заголовков) и Inter (для текста).
*   **Логика взаимодействия**: Подробное описание всех функций и вкладок доступно в файле `INTERFACE_GUIDE.md`.

## 5. Гайдлайн для дизайна (UI/UX)
При создании нового дизайна интерфейса следует учитывать следующие аспекты:
*   **Прозрачность и размытие**: Использование `backdrop-filter: blur(10px)` и полупрозрачных фонов (`rgba`) для панелей поверх визуализации.
*   **Компактность**: Большое количество параметров требует плотной компоновки (микро-интерфейсы).
*   **Интерактивность**: Визуальный отклик на изменение параметров (Hover-эффекты, плавные переходы).
*   **Доступность**: Поддержка горячих клавиш и интуитивно понятные иконки для управления плейлистом и слоями.
*   **Реактивность**: Элементы интерфейса не должны перекрывать центральную зону (Logo/Text), если это не вызвано пользователем.

## 6. Ключевые файлы
*   `index.html`: Содержит всю логику приложения, стили и структуру DOM.
